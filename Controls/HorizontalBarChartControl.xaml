<UserControl x:Class="ManutMap.Controls.HorizontalBarChartControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:ManutMap.Controls">
    <ItemsControl x:Name="ItemsHost" ItemsSource="{Binding Items}">
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <StackPanel Orientation="Horizontal" Margin="0,5" VerticalAlignment="Center">
                    <TextBlock Text="{Binding Label}" Width="120"/>
                    <Border Background="SteelBlue" Height="20" CornerRadius="4">
                        <Border.Width>
                            <MultiBinding Converter="{StaticResource BarWidthConverter}">
                                <Binding Path="Value"/>
                                <Binding RelativeSource="{RelativeSource AncestorType=UserControl}" Path="Tag"/>
                            </MultiBinding>
                        </Border.Width>
                    </Border>
                    <TextBlock Text="{Binding Value}" Margin="5,0,0,0"/>
                </StackPanel>
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ItemsControl>
</UserControl>
